{"version":3,"sources":["dispatcher/AppDispatcher.js","constants/DataActionTypes.js","constants/FocusActionTypes.js","actions/FocusActions.js","stores/FocusStore.js","components/SideFocusButton/FocusButton.js","components/SideFocusButton/FocusButtonRender.js","components/MainSidebar/Sidebar.js","components/MainSidebar/SidebarRender.js","components/DataDisplayTable/DataDisplayTableRender.js","components/DataDisplayTable/DataDisplayTable.js","components/StandardButton/StandardButton.js","components/StandardButton/StandardButtonRender.js","components/MainFocusBox/FocusBox.js","components/MainFocusBox/FocusBoxRender.js","components/ReportButton/ReportButton.js","components/ReportButton/ReportButtonRender.js","components/StatisticBoxes/StatisticBoxes.js","components/StatisticBoxes/StatisticBoxesRender.js","actions/DataActions.js","components/DeleteButton/DeleteButton.js","components/DeleteButton/DeleteButtonRender.js","components/Popup/PopupRender.js","components/Popup/forms/StudentForm.js","components/Popup/forms/BookForm.js","components/Popup/forms/CodeForm.js","components/Popup/Popup.js","components/AppRender/App.js","components/AppRender/AppRender.js","index.js","stores/DataStore.js"],"names":["flux__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","AppDispatcher","Dispatcher","keymirror__WEBPACK_IMPORTED_MODULE_0__","keymirror__WEBPACK_IMPORTED_MODULE_0___default","n","keyMirror","CREATE_ITEM","READ_ITEMS","UPDATE_ITEM","DELETE_ITEM","FOCUS_SWITCHED","POPUP_CLOSED","POPUP_OPENED","FocusActions","changeView","args","dispatch","type","FocusActionTypes","VIEW_CHANGED","closePopup","openPopup","action","_itemTypes","student","book","code","_scopes","general","create","update","_generalDisplayTitles","_scope","_itemType","_focusItem","_showPopup","_pastFocusItems","_displayTitle","updateDisplayTitle","FocusStore","assign","EventEmitter","prototype","getFocusScope","getDisplayTitle","getItemType","getFocusItem","getGeneralDisplayTitle","itemType","getPastFocusItem","index","showPopup","emitChange","this","emit","addChangeListener","callback","on","removeChangeListener","removeListener","dispatchToken","register","newScope","Object","values","includes","newItemType","itemId","itemIndex","DataStore","getItemById","getItemByIndex","unshift","item","concat","lastName","firstName","title","author","FocusButton","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isPressed","isHighlighted","handleClick","bind","assertThisInitialized","onMouseDown","onMouseUp","_onChange","focusScope","setState","classString","selectionString","react_default","a","createElement","className","onClick","onMouseLeave","alt","displayName","src","icon","Component","MainSidebar","SideFocusButton_FocusButton","DataDisplayTableRender","functions","labels","map","label","key","rows","row","itemAccessor","data","_id","data-index","onItemClick","element","index_","test","String","toLowerCase","e","stopPropagation","href","length","DataDisplayTable","rawData","getItems","accessors","d","datum_i","datum","rowData","i","accessor","push","_mounted","event","target","request","dataset","Render","StandardButton","isHovered","class","FocusBox","components_StandardButton_StandardButton","onButtonClick","components_DataDisplayTable_DataDisplayTable","tableType","ReportButton","url","getServerURL","console","log","process","setTimeout","response","file","window","open","StatisticBoxes","studentsReading","booksCheckedOut","unusedCodes","students","codes","books","readers","DataActions","createItem","DataActionTypes","readItems","updateItem","id","deleteItem","DeleteButton","confirm","PopupRender","submit","inputForms","scope","handleCreate","handleUpdate","handleValueChange","data-key","value","required","onChange","email","grade","min","max","BookForm","CodeForm","closeSelf","ref","scrollRef","components_DeleteButton_DeleteButton","displayTitle","onSubmit","associatedItems","items","addAssociatedItem","itemTitle","PopupForm","React","createRef","escFunction","focusItem","defaultItemData","associatedBook","associatedStudent","associatedCodes","current","scrollTo","defineProperty","$set","preventDefault","document","addEventListener","removeEventListener","keyCode","App","Sidebar_MainSidebar","components_ReportButton_ReportButton","MainFocusBox_FocusBox","components_StatisticBoxes_StatisticBoxes","Popup_Popup","ReactDOM","render","App_App","getElementById","events__WEBPACK_IMPORTED_MODULE_0__","object_assign__WEBPACK_IMPORTED_MODULE_1__","object_assign__WEBPACK_IMPORTED_MODULE_1___default","request__WEBPACK_IMPORTED_MODULE_2__","request__WEBPACK_IMPORTED_MODULE_2___default","_dispatcher_AppDispatcher__WEBPACK_IMPORTED_MODULE_3__","_constants_DataActionTypes__WEBPACK_IMPORTED_MODULE_4__","SERVER_URL","_data","_itemTypeDomains","_itemSortKeys","c","find","obj","req","requestType","get","json","err","res","body","changeData","slice","sort","b","func","funcSort","keySort","undefined","post","form","put","delete"],"mappings":"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","file":"static/js/main.e13658f6.chunk.js","sourcesContent":["import { Dispatcher } from 'flux';\n\nconst AppDispatcher = new Dispatcher();\nexport default AppDispatcher;\n","import keyMirror from 'keymirror';\n\nexport default keyMirror({\n  CREATE_ITEM: 'CREATE_ITEM',\n  READ_ITEMS:  'READ_ITEMS',\n  UPDATE_ITEM: 'UPDATE_ITEM',\n  DELETE_ITEM: 'DELETE_ITEM'\n});\n","import keyMirror from 'keymirror';\n\nexport default keyMirror({\n  FOCUS_SWITCHED: 'VIEW_CHANGED',\n  POPUP_CLOSED: 'POPUP_CLOSED',\n  POPUP_OPENED: 'POPUP_OPENED',\n});\n","import AppDispatcher from '../dispatcher/AppDispatcher';\nimport FocusActionTypes from '../constants/FocusActionTypes';\n\nvar FocusActions = {\n\n  changeView: function(args) {\n    AppDispatcher.dispatch({\n      type: FocusActionTypes.VIEW_CHANGED,\n      args: args,\n    });\n  },\n  closePopup: function() {\n    AppDispatcher.dispatch({\n      type: FocusActionTypes.POPUP_CLOSED,\n    });\n  },\n  openPopup: function(action) {\n    AppDispatcher.dispatch({\n      type: FocusActionTypes.POPUP_OPENED,\n      action: action\n    });\n  }\n};\n\nexport default FocusActions;\n","import { EventEmitter } from 'events';\nimport assign from 'object-assign';\n\nimport AppDispatcher from '../dispatcher/AppDispatcher';\nimport FocusActionTypes from '../constants/FocusActionTypes';\n\nimport DataStore from './DataStore';\n\nvar CHANGE_EVENT = 'change';\n\nvar _itemTypes = {\n  student: \"student\",\n  book   : \"book\",\n  code   : \"code\"\n}\n\nvar _scopes = {\n  general: \"general\",\n  create : \"create\",\n  update : \"update\"\n}\n\n// `itemType`: `displayTitle`\nvar _generalDisplayTitles = {\n  student: \"STUDENTS\",\n  book   : \"BOOKS\",\n  code   : \"CODES\"\n}\n\n// default:\n//    scope = general\n//    item type = student\nvar _scope = _scopes.general;\nvar _itemType = _itemTypes.student;\n\nvar _focusItem = null;\nvar _showPopup = false;\nvar _pastFocusItems = [];\nvar _displayTitle = updateDisplayTitle();\n\n\nlet FocusStore = assign({}, EventEmitter.prototype, {\n\n  getFocusScope: function() {\n    return _scope;\n  },\n\n  getDisplayTitle: function() {\n    return _displayTitle;\n  },\n\n  getItemType: function() {\n    return _itemType;\n  },\n\n  getFocusItem: function() {\n    return _focusItem;\n  },\n\n  getGeneralDisplayTitle: function(itemType) {\n    return _generalDisplayTitles[itemType];\n  },\n\n  getPastFocusItem: function(index) {\n    return _pastFocusItems[index];\n  },\n\n  showPopup: function() {\n    return _showPopup;\n  },\n\n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },\n\n  addChangeListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  },\n\n  removeChangeListener: function(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  }\n\n});\n\nFocusStore.dispatchToken = AppDispatcher.register(function(action) {\n  switch(action.type) {\n    case FocusActionTypes.VIEW_CHANGED:\n      var args = action.args;\n      if ( args !== {} ) {\n        changeView(args);\n        FocusStore.emitChange();\n      }\n    break;\n    case FocusActionTypes.POPUP_CLOSED:\n      _showPopup = false;\n      changeView({\n        newScope: \"general\",\n      });\n      FocusStore.emitChange();\n    break;\n    case FocusActionTypes.POPUP_OPENED:\n      if (Object.values(_scopes).includes(action.action)) {\n        changeView({\n          newScope: action.action,\n        });\n      }\n      FocusStore.emitChange();\n    break;\n    default:\n  }\n});\n\nexport default FocusStore;\n\n\n// args = {\n//   newScope    : scope,\n//   newItemType : itemType,\n//   itemId      : itemId  (only if the scope is not general)\n//   itemIndex   : itemIndex (only if the scope is not general)\n// }\nfunction changeView (args) {\n\n  var newScope    = args.newScope;\n  var newItemType = args.newItemType;\n  var itemId      = args.itemId;\n  var itemIndex   = args.itemIndex\n\n  if (Object.values(_scopes).includes(newScope)) {\n    _scope = newScope;\n\n    // Check if zoomed into specific item\n    if (_scope === _scopes.create || _scope === _scopes.update) {\n      _showPopup = true;\n    } else {\n      _showPopup = false;\n    }\n  }\n\n  if (Object.values(_itemTypes).includes(newItemType)) {\n    _itemType = newItemType;\n  }\n\n  if (itemId) {\n    _focusItem = DataStore.getItemById(_itemType, itemId);\n  } else if (itemIndex) {\n    _focusItem = DataStore.getItemByIndex(_itemType, itemIndex);\n  } else {\n    if (_focusItem) {\n      _pastFocusItems.unshift(_focusItem);\n    }\n    _focusItem = null;\n  }\n\n  updateDisplayTitle();\n  FocusStore.emitChange();\n}\n\nfunction updateDisplayTitle() {\n\n  if (_scope === _scopes.general) {\n\n    _displayTitle = _generalDisplayTitles[_itemType];\n\n  } else if (_scope === _scopes.update) {\n    var item = _focusItem ? _focusItem : _pastFocusItems[0];\n\n    if (_itemType === _itemTypes.student) {\n\n      // Student title view\n      _displayTitle = `${item.lastName}, ${item.firstName}`;\n\n    } else if (_itemType === _itemTypes.book) {\n\n      // Book title view\n      _displayTitle = `${item.title} by ${item.author}`;\n\n    } else if (_itemType === _itemTypes.code) {\n\n      // Code title view\n      _displayTitle = `Code: ${item.code}`;\n\n    }\n  }\n\n  return _displayTitle;\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Render from './FocusButtonRender';\n\nimport FocusActions from '../../actions/FocusActions';\nimport FocusStore from '../../stores/FocusStore';\n\nclass FocusButton extends Component {\n\n  static propTypes = {\n    icon: PropTypes.string,\n    displayName: PropTypes.string,\n    itemType: PropTypes.string,\n    focusScope: PropTypes.string\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPressed: false,\n      isHighlighted: false,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this.handleClick = this.handleClick.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this._onChange = this._onChange.bind(this);\n  }\n\n  handleClick() {\n    FocusActions.changeView({\n      newScope: this.props.focusScope,\n      newItemType: this.props.itemType\n    });\n  }\n\n  onMouseDown() {\n    this.setState({\n      isPressed: true,\n    });\n  }\n\n  onMouseUp() {\n    this.setState({\n      isPressed: false\n    });\n  }\n\n  componentDidMount() {\n    FocusStore.addChangeListener(this._onChange);\n    this._onChange();\n  }\n\n  componentWillUnmount() {\n    FocusStore.removeChangeListener(this._onChange);\n  }\n\n  _onChange() {\n    if ( FocusStore.getItemType() === this.props.itemType &&\n         FocusStore.getFocusScope() === this.props.focusScope) {\n      this.setState({\n        isHighlighted: true,\n      });\n    } else {\n      this.setState({\n        isHighlighted: false,\n      });\n    }\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default FocusButton;\n","import React from 'react';\n\nexport default function (props, state) {\n\n  var classString = 'button';\n  var selectionString = 'selector';\n  if ( state.isPressed ) {\n    classString += ' pressed';\n  }\n  if ( state.isHighlighted ) {\n    classString += ' highlighted';\n    selectionString += ' highlighted';\n  }\n\n  return (\n    <div>\n      <div className={selectionString} />\n      <div\n        className={classString}\n        onClick={this.handleClick}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onMouseLeave={this.onMouseUp}\n      >\n        <img className=\"icon\" alt={props.displayName} src={props.icon} />\n        <div className={\"text\"}>\n          {props.displayName}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Render from './SidebarRender';\n\nimport { Component } from 'react';\n\nexport default class MainSidebar extends Component {\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n","import React from 'react';\n\nimport SideFocusButton from '../SideFocusButton/FocusButton';\n\nimport \"./sidebar.scss\";\n\nexport default function () {\n  return (\n    <div className='sidebar floating'>\n      <SideFocusButton\n        icon=\"assets/icons/student.svg\"\n        displayName=\"Students\"\n        itemType=\"student\"\n        focusScope=\"general\"\n      />\n      <hr className=\"sidebar-line\" />\n      <SideFocusButton\n        icon=\"assets/icons/book.svg\"\n        displayName=\"Books\"\n        itemType=\"book\"\n        focusScope=\"general\"\n      />\n      <hr className=\"sidebar-line\" />\n      <SideFocusButton\n        icon=\"assets/icons/code.svg\"\n        displayName=\"Codes\"\n        itemType=\"code\"\n        focusScope=\"general\"\n      />\n    </div>\n  );\n}\n","import React from 'react';\n\nimport \"./datadisplaytable.scss\";\n\nexport default function (props, state) {\n\n  var functions = this;\n\n  var labels = state.labels.map(function (label, index) {\n    return <th key={label + index}>{label}</th>;\n  });\n\n  var rows = state.rows.map(function (row, index) {\n    var itemAccessor;\n\n    if (props.data) {\n      itemAccessor = props.data[index]._id;\n    } else {\n      itemAccessor = index;\n    }\n\n    return (\n      <tr data-index={itemAccessor} key={row + index} onClick={functions.onItemClick}>\n        {row.map(function (element, index_) {\n          if (validateEmail(element)) {\n            return (\n              <td key={element+\"\"+index_} onClick={(e) => e.stopPropagation()}>\n                <a href={`mailto:${element}`}>{element}</a>\n              </td>\n            );\n          } else {\n            return <td data-index={itemAccessor} key={element+\"\"+index_}>{element}</td>;\n          }\n        })}\n      </tr>\n    );\n  });\n\n  if (rows.length !== 0) {\n    return (\n      <table className=\"focus-table\">\n        <thead>\n          <tr>\n            {labels}\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>\n    );\n  } else {\n    return (\n      <div className=\"no-item-title-wrapper\">\n        <div className=\"no-item-title\">\n          There are no {state.itemType}s \n            {this.props.itemType \n              ? \" associated\"\n              : \"\"}.\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction validateEmail(email) {\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}","import Render from './DataDisplayTableRender';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FocusStore from '../../stores/FocusStore';\nimport DataStore from '../../stores/DataStore';\n\nimport FocusActions from '../../actions/FocusActions';\n\nclass DataDisplayTable extends Component {\n\n  static propTypes = {\n    itemType: PropTypes.string,\n    data: PropTypes.array\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      labels: [],\n      rows: [],\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this._onChange = this._onChange.bind(this);\n    this.onItemClick = this.onItemClick.bind(this);\n  }\n\n  _onChange() {\n    var itemType = this.props.itemType \n                  ? this.props.itemType\n                  : FocusStore.getItemType();\n    var rawData = this.props.data \n                  ? this.props.data \n                  : DataStore.getItems(itemType);\n\n    var labels = [];\n    var accessors = [];\n    var rows = [];\n\n    if (itemType === \"student\") {\n      labels = [\n        \"Name\",\n        \"Email\",\n        \"Checked Out Books\"\n      ];\n      accessors = [\n        (d) => `${d[\"lastName\"]}, ${d[\"firstName\"]}`,\n        \"email\",\n        \"codes\"\n      ];\n    } else if (itemType === \"book\") {\n      labels = [\n        \"Title\",\n        \"Total Codes\",\n        \"Total Readers\"\n      ];\n      accessors = [\n        \"title\",\n        \"codes\",\n        \"readers\"\n      ];\n    } else if (itemType === \"code\") {\n      labels = [\n        \"Associated Book\",\n        \"Checkout Code\",\n      ];\n      if (!(this.props.itemType === \"code\" \n            && FocusStore.getItemType() === \"student\")) {      \n        labels[2] = \"User\";\n      }\n      accessors = [\n        (d) => {\n          var book = DataStore.getItemById(\"book\", d.book);\n          return book.title;\n        },\n        \"code\",\n        (d) => {\n          if (d.student) {\n            var student = DataStore.getItemById(\"student\", d.student);\n            return `${student.lastName}, ${student.firstName}`;\n          }\n          return \"None\";\n        }\n      ]\n    }\n    \n    if (rawData && labels !== [] && accessors !== []) {\n      // Map the data from raw server info to elements\n      for (var datum_i = 0; datum_i < rawData.length; datum_i++) {\n        var datum = rawData[datum_i];\n        var rowData = [];\n\n        for (var i = 0; i < labels.length; i++) {\n          var element;\n          var accessor = accessors[i];\n\n          if (typeof accessor === \"string\") {\n            element = datum[accessor];\n            if (typeof element === \"object\") {\n              element = element.length;\n            }\n            rowData.push(element);\n          } else if (typeof accessor === \"function\") {\n            element = accessor(datum);\n            rowData.push(element);\n          }\n        }\n\n        rows.push(rowData);\n      }\n    }\n\n    if (this._mounted) {\n      this.setState({\n        labels: labels,\n        rows: rows,\n        itemType: itemType\n      });\n    }\n  }\n\n  onItemClick (event) {\n    var target = event.target;\n\n    var request = {\n      newScope    : \"update\",\n      newItemType : this.props.itemType \n                    ? this.props.itemType : \n                    FocusStore.getItemType(),\n    };\n\n    if (this.props.data) {\n      request.itemId = target.dataset.index;\n    } else {\n      request.itemIndex = target.dataset.index;\n    }\n\n    // Switch to a specific view of the item itself\n    FocusActions.changeView(request);\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    FocusStore.addChangeListener(this._onChange);\n    DataStore.addChangeListener(this._onChange);\n    this._onChange();\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    FocusStore.removeChangeListener(this._onChange);\n    DataStore.removeChangeListener(this._onChange);\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default DataDisplayTable;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Render from './StandardButtonRender';\n\nclass StandardButton extends Component {\n\n  static propTypes = {\n    class: PropTypes.string,\n    icon: PropTypes.string,\n    onClick: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPressed: false,\n      isHovered: false,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  onMouseDown() {\n    this.setState({\n      isPressed: true,\n    });\n  }\n\n  onMouseUp() {\n    this.setState({\n      isPressed: false\n    });\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default StandardButton;\n","import React from 'react';\n\nexport default function (props, state) {\n\n  var classString = props.class;\n  if ( state.isPressed ) {\n    classString += ' pressed';\n  }\n\n  return (\n    <div>\n      <div className={`${props.class}-wrapper`} >\n        <div\n          className={classString}\n          onClick={props.onClick}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n          onMouseLeave={this.onMouseUp}\n        >\n          <div className=\"icon\">{props.icon}</div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import Render from './FocusBoxRender';\n\nimport { Component } from 'react';\n\nimport FocusActions from '../../actions/FocusActions'\nimport FocusStore from '../../stores/FocusStore';\n\nclass FocusBox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    // Bind callback methods to make `this` the correct context.\n    this.onItemClick = this.onItemClick.bind(this);\n    this._onChange = this._onChange.bind(this);\n  }\n\n  onItemClick (event) {\n    var target = event.target;\n    var index = target.dataset.index;\n\n    // Switch to a specific view of the item itself\n    FocusActions.changeView({\n      newScope : \"update\",\n      itemType : FocusStore.getItemType(),\n      itemIndex: index,\n    });\n  }\n\n  onButtonClick() {\n    FocusActions.changeView({\n      newScope: \"create\",\n    });\n  }\n\n  _onChange() {\n    var displayName = FocusStore.getGeneralDisplayTitle(FocusStore.getItemType());\n\n    this.setState({\n      displayName: displayName,\n    });\n  }\n\n  componentDidMount() {\n    FocusStore.addChangeListener(this._onChange);\n    this._onChange();\n  }\n\n  componentWillUnmount() {\n    FocusStore.removeChangeListener(this._onChange);\n  }\n\n  render() {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default FocusBox;\n","import React from 'react';\n\nimport DataDisplayTable from '../DataDisplayTable/DataDisplayTable';\nimport StandardButton from '../StandardButton/StandardButton';\n\nimport \"./focusbox.scss\";\n\nexport default function (props, state) {\n\n  return (\n    <div className=\"focusbox floating\">\n\n      <div className='header'>{state.displayName}</div>\n\n      <StandardButton\n        onClick={this.onButtonClick}\n        class=\"add-button\"\n        icon=\"+\"\n      />\n\n      <DataDisplayTable \n        tableType=\"general\" \n      />\n\n    </div>\n  );\n}\n","import { Component } from 'react';\n\nimport Render from './ReportButtonRender';\n\nimport DataStore from '../../stores/DataStore';\n\nclass ReportButton extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPressed: false,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this.onClick = this.onClick.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  onClick() {\n    var url = `${DataStore.getServerURL()}/report/download`;\n    console.log(process.env);\n\n    setTimeout(() => {\n      const response = {\n        file: url,\n      };\n      // server sent the url to the file!\n      // now, let's download:\n      window.open(response.file);\n      // you could also do:\n      // window.location.href = response.file;\n    }, 100);\n  }\n\n  onMouseDown() {\n    this.setState({\n      isPressed: true,\n    });\n  }\n\n  onMouseUp() {\n    this.setState({\n      isPressed: false\n    });\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default ReportButton;\n","import React from 'react';\n\nimport \"./ReportButton.scss\";\n\nexport default function (props, state) {\n\n  var classString = \"report-button floating\";\n  if ( state.isPressed ) {\n    classString += ' pressed';\n  }\n\n  return (\n    <div className=\"report-wrapper\">\n      <div\n        className={classString}\n        onClick={this.onClick}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onMouseLeave={this.onMouseUp}\n      >\n        <div>Download Report</div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from 'react';\n\nimport Render from './StatisticBoxesRender';\n\nimport DataStore from '../../stores/DataStore';\n\nclass StatisticBoxes extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      studentsReading: 0,\n      booksCheckedOut: 0,\n      unusedCodes: 0,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this._onChange = this._onChange.bind(this);\n  }\n\n  _onChange() {\n    var studentsReading = 0;\n    var students = DataStore.getItems(\"student\");\n    for (let index = 0; index < students.length; index++) {      \n      if (students[index].codes.length > 0) {\n        studentsReading += 1;\n      }\n    }\n\n    var booksCheckedOut = 0;\n    var books = DataStore.getItems(\"book\");\n    for (let index = 0; index < books.length; index++) {\n      booksCheckedOut += books[index].readers;\n    }\n\n    var unusedCodes = 0;\n    var codes = DataStore.getItems(\"code\");\n    for (let index = 0; index < codes.length; index++) {\n      if (!codes[index].student) {\n        unusedCodes += 1;\n      }\n    }\n\n    this.setState({\n      studentsReading: studentsReading,\n      booksCheckedOut: booksCheckedOut,\n      unusedCodes: unusedCodes\n    });\n  }\n\n  componentDidMount() {\n    DataStore.addChangeListener(this._onChange);\n    this._onChange();\n  }\n\n  componentWillUnmount(){\n    DataStore.removeChangeListener(this._onChange);\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default StatisticBoxes;\n","import React from 'react';\n\nimport \"./StatisticBoxes.scss\";\n\nexport default function (props, state) {\n\n  return (\n    <div className=\"statistic-box statistic-boxes-wrapper\">\n      <div className=\"floating statistic-box students-reading\">\n        <div className=\"number\">{state.studentsReading}</div>\n        <div className=\"title\">Students Reading</div>\n      </div>\n\n      <div className=\"floating statistic-box books-checked-out\">\n        <div className=\"number\">{state.booksCheckedOut}</div>\n        <div className=\"title\">Checked Out Books</div>\n      </div>\n\n      <div className=\"floating statistic-box unused-codes\">\n        <div className=\"number\">{state.unusedCodes}</div>\n        <div className=\"title\">Unused Codes</div>\n      </div>\n    </div>\n  );\n}\n","import AppDispatcher from '../dispatcher/AppDispatcher';\nimport DataActionTypes from '../constants/DataActionTypes';\n\nvar DataActions = {\n\n  createItem: function(itemType, data) {\n    AppDispatcher.dispatch({\n      type: DataActionTypes.CREATE_ITEM,\n      itemType: itemType,\n      data: data,\n    });\n  },\n  readItems: function(itemType) {\n    AppDispatcher.dispatch({\n      type: DataActionTypes.READ_ITEMS,\n      itemType: itemType\n    });\n  },\n  updateItem: function(itemType, id, data) {\n    AppDispatcher.dispatch({\n      type: DataActionTypes.UPDATE_ITEM,\n      itemType: itemType,\n      id: id,\n      data: data,\n    });\n  },\n  deleteItem: function(itemType, id) {\n    AppDispatcher.dispatch({\n      type: DataActionTypes.DELETE_ITEM,\n      itemType: itemType,\n      id: id,\n    });\n  }\n};\n\nexport default DataActions;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Render from './DeleteButtonRender';\n\nimport DataActions from '../../actions/DataActions';\nimport FocusActions from '../../actions/FocusActions';\n\nclass DeleteButton extends Component {\n\n  static propTypes = {\n    itemType: PropTypes.string.isRequired,\n    itemId: PropTypes.string.isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPressed: false,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this.onClick = this.onClick.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  onClick() {\n    if (window.confirm(\"Delete this \" + this.props.itemType + \"?\")) {\n      DataActions.deleteItem(this.props.itemType, this.props.itemId);\n      FocusActions.closePopup();\n    }\n  }\n\n  onMouseDown() {\n    this.setState({\n      isPressed: true,\n    });\n  }\n\n  onMouseUp() {\n    this.setState({\n      isPressed: false\n    });\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default DeleteButton;\n","import React from 'react';\n\nimport \"./DeleteButton.scss\";\n\nexport default function (props, state) {\n\n  var classString = \"delete-button\";\n  if ( state.isPressed ) {\n    classString += ' pressed';\n  }\n\n  return (\n    <div>\n      <div className={`delete-button-wrapper`} >\n        <div\n          className={classString}\n          onClick={this.onClick}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n          onMouseLeave={this.onMouseUp}\n        >\n          <img \n            className=\"icon\" \n            alt=\"Delete Item\" \n            src=\"assets/icons/garbage.svg\" \n          />\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import React from 'react';\n\nimport \"./Popup.scss\";\n\nimport StandardButton from '../StandardButton/StandardButton';\nimport DeleteButton from '../DeleteButton/DeleteButton';\nimport DataDisplayTable from '../DataDisplayTable/DataDisplayTable';\n\nimport StudentForm from './forms/StudentForm';\nimport BookForm from './forms/BookForm';\nimport CodeForm from './forms/CodeForm';\n\nexport default function (props, state) {\n\n  var itemType = state.itemType;\n  var scope = state.scope;\n\n  var submit;\n  var inputForms;\n\n  if (scope === \"create\") {\n    submit = this.handleCreate;\n  } else if (scope === \"update\") {\n    submit = this.handleUpdate;\n  }\n\n  // Do not use .call on these methods\n  if (itemType === \"student\") {\n    inputForms = StudentForm(this.handleValueChange, state.data);\n  } else if (itemType === \"book\") {\n    inputForms = BookForm(this.handleValueChange, state.data);\n  } else if (itemType === \"code\") {\n    inputForms = CodeForm(this.handleValueChange, state.data);\n  }\n\n  return (\n    <div className=\"popup-wrapper\" onClick={this.closeSelf}>\n      <div className=\"popup-form\" ref={this.scrollRef} \n        onClick={e => e.stopPropagation()}>\n\n        <StandardButton\n            onClick={this.closeSelf}\n            class=\"close-button\"\n            icon=\"\"\n        />\n\n        {scope === \"update\" ?\n          <DeleteButton \n            itemType={state.itemType}\n            itemId={state.itemId}\n          />\n         : null\n        }\n\n        <div>{state.displayTitle}</div>\n\n        <form onSubmit={submit}>\n          {inputForms}\n\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n\n      </div>\n\n      {scope === \"update\" ? \n        <div className=\"side-info\" onClick={e => e.stopPropagation()}>\n          {state.associatedItems.map((items, index) => {\n            return (\n              <div key={items + index}>\n                { itemType !== \"code\" ? \n                  <StandardButton\n                    onClick={() => this.addAssociatedItem(items.itemType)}\n                    class=\"add-button\"\n                    icon=\"+\"\n                  />\n                  : null\n                }  \n                <div className=\"associated-item-tables\">\n                  <div className=\"associated-item-titles\">\n                    {items.itemTitle}\n                  </div>\n                  <DataDisplayTable \n                    key={items.itemType}\n                    itemType={items.itemType}\n                    data={items.data}\n                  /> \n                </div>\n              </div>\n            );\n          })}\n        </div>\n        : null\n      }\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function (callback, data) {\n\n  return (\n    <div>\n\n      <label>\n        First Name:\n        <input\n          data-key=\"firstName\"\n          value={data.firstName}\n          type=\"text\"\n          required={true}\n          onChange={callback} />\n      </label>\n\n      <br/>\n      <label>\n        Last Name:\n        <input\n          data-key=\"lastName\"\n          value={data.lastName}\n          type=\"text\"\n          required={true}\n          onChange={callback} />\n      </label>\n\n      <br/>\n      <label>\n        Email:\n        <input\n          data-key=\"email\"\n          value={data.email}\n          type=\"email\"\n          required={true}\n          onChange={callback} />\n      </label>\n\n      <br/>\n      <label>\n        Grade:\n        <input \n          data-key=\"grade\"\n          value={data.grade || \"\"}\n          type=\"number\" \n          min=\"1\" max=\"12\" \n          required={true} \n          onChange={callback} />\n      </label>\n\n    </div>\n  )\n}\n","import React from 'react';\n\nexport default function (callback, data) {\n\n  return (\n    <div>\n\n      <label>\n        Title:\n        <input\n          data-key=\"title\"\n          value={data.title}\n          type=\"text\"\n          required={true}\n          onChange={callback} />\n      </label>\n\n      <br/>\n      <label>\n        Author:\n        <input\n          data-key=\"author\"\n          value={data.author}\n          type=\"text\"\n          required={true}\n          onChange={callback} />\n      </label>\n\n    </div>\n  )\n}\n","import React from 'react';\n\nimport DataStore from '../../../stores/DataStore';\n\nexport default function (callback, data) {\n\n  var books = DataStore.getItems(\"book\").map(function (book, index) {\n    return (\n      <option key={book.title + index} value={book._id}>\n        {book.title} by {book.author}\n      </option>\n    );\n  });\n\n  var students = DataStore.getItems(\"student\").map(function (student, index) {\n    return (\n      <option key={student.firstName + index} value={student._id}>\n        {student.lastName}, {student.firstName}\n      </option>\n    );\n  })\n  students.unshift(\n    <option key=\"no-student\" value=\"\">\n      No Student\n    </option>\n  );\n\n  // Default item values are in Popup.js\n\n  return (\n    <div>\n\n      <label>\n        Book attached to code:\n        <br />\n        <select\n          data-key=\"book\"\n          required={true}\n          value={data.book}\n          onChange={callback}\n        >\n          {books}\n        </select>\n      </label>\n\n      <br />\n      <label>\n        Student code is assigned to:\n        <br />\n        <select\n          data-key=\"student\"\n          value={data.student}\n          onChange={callback}\n        >\n          {students}\n        </select>\n      </label>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport { Component } from 'react';\n\nimport Render from './PopupRender';\n\nimport update from 'immutability-helper';\n\nimport DataActions from '../../actions/DataActions';\nimport FocusActions from '../../actions/FocusActions';\nimport FocusStore from '../../stores/FocusStore';\nimport DataStore from '../../stores/DataStore';\n\nclass PopupForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scope: null,\n      itemType: null,\n      itemId: null,\n      data: {},\n      associatedItems: [],\n      displayTitle: \"\"\n    };\n\n    this.scrollRef = React.createRef();\n\n    // Bind callback methods to make `this` the correct context.\n    this._onChange = this._onChange.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.addAssociatedItem = this.addAssociatedItem.bind(this);\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.closeSelf = this.closeSelf.bind(this);\n    this.escFunction = this.escFunction.bind(this);\n  }\n\n  _onChange() {\n    // To provide default data for the dropdown menus\n    var scope = FocusStore.getFocusScope();\n    var itemType = FocusStore.getItemType();\n    var focusItem = FocusStore.getFocusItem();\n    var itemId = focusItem ? focusItem._id : null;\n    var defaultItemData = {};\n    var associatedItems = [];\n    var displayTitle = \"\";\n\n    if (itemType === \"student\") {\n      displayTitle = focusItem ? \"Update Student\" : \"Add Student\"\n      defaultItemData = {\n        firstName: focusItem ? focusItem.firstName : \"\",\n        lastName: focusItem ? focusItem.lastName : \"\",\n        email: focusItem ? focusItem.email : \"\",\n        grade: focusItem ? focusItem.grade : \"\"\n      }\n    } else if (itemType === \"book\") {\n      displayTitle = focusItem ? \"Update Book\" : \"Add Book\"\n      defaultItemData = {\n        title: focusItem ? focusItem.title : \"\",\n        author: focusItem ? focusItem.author : \"\"\n      }\n    } else if (itemType === \"code\") {\n      displayTitle = focusItem ? \"Update Code\" : \"Create Code\"\n      defaultItemData = {\n        student: (focusItem ? (focusItem.student ? focusItem.student\n                  : \"\") : \"\"),\n        book: focusItem ? focusItem.book : DataStore.getItems(\"book\")[0]._id\n      }\n    }\n\n    if ((itemType === \"student\" || itemType === \"book\") && focusItem) {\n      var associatedCodes = {\n        itemType: \"code\",\n        itemTitle: itemType === \"student\" ? \"Student's Codes\" : \"Book's Codes\",\n        data: [],\n      };\n      for (let index = 0; index < focusItem.codes.length; index++) {\n        associatedCodes.data.push(\n          DataStore.getItemById(\"code\", focusItem.codes[index]));\n      }\n      associatedItems.push(associatedCodes);\n\n    } else if (itemType === \"code\" && focusItem) {\n      var associatedBook = {\n        itemType: \"book\",\n        itemTitle: \"Associated Book\",\n        data: [DataStore.getItemById(\"book\", focusItem.book)],\n      }\n      associatedItems.push(associatedBook);\n\n      if (focusItem.student) {\n        var associatedStudent = {\n          itemType: \"student\",\n          itemTitle: \"Assigned Student\",\n          data: [DataStore.getItemById(\"student\", focusItem.student)],\n        }\n        associatedItems.push(associatedStudent);\n      }\n    }\n\n    if (this._mounted) {\n      this.scrollRef.current.scrollTo(0, 0);\n\n      this.setState({\n        scope: scope,\n        itemId: itemId,\n        itemType: itemType,\n        data: defaultItemData,\n        associatedItems: associatedItems,\n        displayTitle: displayTitle\n      });\n    }\n  }\n\n  handleValueChange(event) {\n    var target = event.target;\n    var value = target.value;\n    var key = target.dataset.key;\n\n    this.setState({\n      data: update(this.state.data, {\n        [key]: {$set: value}\n      }),\n    });\n  }\n\n  addAssociatedItem(itemType) {\n    FocusActions.changeView({\n      newScope: \"create\",\n      newItemType: itemType,\n    });\n  }\n\n  handleCreate(event) { // Create\n    event.preventDefault(); // prevent reload\n\n    if (this.state.data !== {}) {\n      DataActions.createItem(this.state.itemType, this.state.data);\n      this.closeSelf();\n    }\n  }\n\n  handleUpdate(event) { // update\n    event.preventDefault();\n\n    if (this.state.data !== {}) {\n      DataActions.updateItem(this.state.itemType, this.state.itemId,\n        this.state.data);\n      this.closeSelf();\n    }\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    FocusStore.addChangeListener(this._onChange);\n    document.addEventListener(\"keydown\", this.escFunction, false);\n\n    this._onChange();\n  }\n\n  componentWillUnmount(){\n    this._mounted = false;\n    FocusStore.removeChangeListener(this._onChange);\n    document.removeEventListener(\"keydown\", this.escFunction, false);\n  }\n\n  // Press escape to close the popup window\n  escFunction(event){\n    if(event.keyCode === 27) {\n      this.closeSelf();\n    }\n  }\n\n  // reset data and close\n  closeSelf() {\n    FocusActions.closePopup();\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n\nexport default PopupForm;\n","import Render from './AppRender';\nimport { Component } from 'react';\n\nimport FocusStore from '../../stores/FocusStore';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPopup: false,\n    };\n\n    // Bind callback methods to make `this` the correct context.\n    this._onChange = this._onChange.bind(this);\n  }\n\n  _onChange() {\n    var showPopup = FocusStore.showPopup();\n    this.setState({\n      showPopup: showPopup,\n    });\n  }\n\n  componentDidMount() {\n    FocusStore.addChangeListener(this._onChange);\n  }\n\n  componentWillUnmount() {\n    FocusStore.removeChangeListener(this._onChange);\n  }\n\n  render () {\n    return Render.call(this, this.props, this.state);\n  }\n}\n","import React from 'react';\n\nimport MainSidebar from '../MainSidebar/Sidebar';\nimport MainFocusBox from '../MainFocusBox/FocusBox';\nimport ReportButton from '../ReportButton/ReportButton';\nimport StatisticBoxes from '../StatisticBoxes/StatisticBoxes';\n\n\nimport Popup from '../Popup/Popup';\n\nimport \"./app.scss\";\n\n\nexport default function (props, state) {\n  return (\n    <div>\n      <div className='main'>\n        <div className='stacked'>\n          <MainSidebar />\n          <ReportButton />\n        </div>\n        <MainFocusBox />\n        <StatisticBoxes />\n      </div>\n\n      {state.showPopup ?\n        <Popup />\n        : null\n      }\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/AppRender/App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import { EventEmitter } from 'events';\nimport assign from 'object-assign';\n\nimport request from 'request';\n\nimport AppDispatcher from '../dispatcher/AppDispatcher';\nimport DataActionTypes from '../constants/DataActionTypes';\n\nvar CHANGE_EVENT = 'change';\n\nvar PROD_SERVER_URL = \"https://miskatonic-book-manager-server.herokuapp.com\";\nvar DEV_SERVER_URL = \"http://localhost:5200\";\n\nvar SERVER_URL = process.env.NODE_ENV === \"production\" \n                  ? PROD_SERVER_URL \n                  : DEV_SERVER_URL;\n\nconsole.log(process);\nconsole.log(SERVER_URL);\n\nvar _data = {\n  student: [],\n  book   : [],\n  code   : [],\n};\n\nvar _itemTypes = {\n  student: \"student\",\n  book   : \"book\",\n  code   : \"code\"\n}\n\nvar _itemTypeDomains = {\n  student: \"students\",\n  book: \"books\",\n  code: \"codes\"\n}\n\nvar _itemSortKeys = {\n  student: \"lastName\",\n  book: \"title\",\n  code: (c) => {\n    var book = DataStore.getItemById(_itemTypes.book, c.book);\n    if (book) { return book.title; }\n  }\n}\n\nreadItems(_itemTypes.student);\nreadItems(_itemTypes.book);\nreadItems(_itemTypes.code);\n\nlet DataStore = assign({}, EventEmitter.prototype, {\n  getItems: function(itemType) {\n    return _data[itemType];\n  },\n\n  // Returns code object if found, else, return null\n  getItemById: function(itemType, id) {\n    return _data[itemType].find(obj => {\n      return obj._id === id;\n    });\n  },\n\n  getItemByIndex: function(itemType, index) {\n    return _data[itemType][index];\n  },\n\n  getServerURL: function() {\n    return SERVER_URL;\n  },\n\n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },\n\n  addChangeListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  },\n\n  removeChangeListener: function(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  }\n\n});\n\nDataStore.dispatchToken = AppDispatcher.register(function(action) {\n  switch(action.type) {\n    case DataActionTypes.CREATE_ITEM:\n      if ( action.itemType !== undefined &&\n           action.data !== undefined ) {\n        createItem(action.itemType, action.data);\n      }\n    break;\n    case DataActionTypes.READ_ITEMS:\n      if ( action.itemType !== undefined ) {\n        readItems(action.itemType);\n      }\n    break;\n    case DataActionTypes.UPDATE_ITEM:\n      if ( action.itemType !== undefined &&\n           action.id !== undefined &&\n           action.data !== undefined ) {\n        updateItem(action.itemType, action.id, action.data);\n      }\n    break;\n    case DataActionTypes.DELETE_ITEM:\n      if ( action.itemType !== undefined &&\n           action.id !== undefined ) {\n        deleteItem(action.itemType, action.id, action.data);\n      }\n    break;\n    default:\n  }\n});\n\nexport default DataStore;\n\nfunction createItem(itemType, data) {\n  var url = SERVER_URL + `/${_itemTypeDomains[itemType]}/create`;\n\n  var req = {\n    requestType: \"post\",\n    itemType: itemType,\n    data: data\n  }\n\n  request.post(url, { form: data }, function (err, res, body) {\n    changeData(err, res, body, req)\n  });\n}\n\nfunction readItems(itemType) {\n  var url = SERVER_URL + `/${_itemTypeDomains[itemType]}`;\n\n  var req = {\n    requestType: \"get\",\n    itemType: itemType,\n  }\n\n  request.get(url, { json: true }, function (err, res, body) {\n    changeData(err, res, body, req)\n  });\n}\n\nfunction updateItem(itemType, id, data) {\n  var url = SERVER_URL + `/${_itemTypeDomains[itemType]}/${id}/update`;\n\n\n  var req = {\n    requestType: \"put\",\n    itemType: itemType,\n    id: id,\n    data: data\n  }\n\n  request.put(url, { form: data }, function (err, res, body) {\n    changeData(err, res, body, req);\n  });\n}\n\nfunction deleteItem(itemType, id) {\n  var url = SERVER_URL + `/${_itemTypeDomains[itemType]}/${id}/delete`;\n\n  var req = {\n    requestType: \"delete\",\n    itemType: itemType,\n    id: id,\n  }\n\n  request.delete(url, { json: true }, function (err, res, body) {\n    changeData(err, res, body, req);\n  });\n}\n\nfunction changeData(err, res, body, req) {\n  if (err) {\n    return console.log(err);\n  }\n\n  var itemType = req.itemType;\n  var requestType = req.requestType;\n\n  if (requestType === \"get\") { // Read\n    body = sortData(_itemSortKeys[itemType], body); // Sort the data\n    _data[itemType] = body; // Update the data in corresponding key\n  } else {\n    /* Otherwise, an item had been created, updated, or deleted, so\n       update our cache */\n    readItems(itemType);\n\n    setTimeout(() => {\n      readItems(_itemTypes.student);\n      readItems(_itemTypes.book);\n      readItems(_itemTypes.code);\n    }, 1000);\n\n    setTimeout(() => {\n      readItems(_itemTypes.student);\n      readItems(_itemTypes.book);\n      readItems(_itemTypes.code);\n    }, 3000);\n\n    setTimeout(() => {\n      readItems(_itemTypes.student);\n      readItems(_itemTypes.book);\n      readItems(_itemTypes.code);\n    }, 10000);\n  }\n\n  DataStore.emitChange();\n}\n\nfunction sortData(key, data) {\n  return [].slice.call(data).sort(function(a, b) {\n    if (typeof key === \"function\") {\n      return funcSort(key, a, b);\n    } else {\n      return keySort(key, a, b);\n    }\n  });\n}\n\nfunction keySort(key, a, b) {\n  if (a[key] < b[key]) { return -1; }\n  if (a[key] > b[key]) { return 1; }\n  return 0;\n}\n\nfunction funcSort(func, a, b) {\n  if (func(a) < func(b)) { return -1; }\n  if (func(a) > func(b)) {return 1; }\n  return 0;\n}\n"],"sourceRoot":""}